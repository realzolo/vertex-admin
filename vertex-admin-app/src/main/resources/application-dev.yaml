# 当前配置文件环境为：dev
server:
  port: 10240
  servlet:
    context-path: /api
spring:
  application:
    name: vertex-admin-app
  config:
    activate:
      on-profile: dev
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
  # 数据源基本配置
  datasource:
    username: wbp
    password: wbp
    url: jdbc:mysql://db.onezol.com:3306/wbp?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=GMT%2B8
    driver-class-name: com.mysql.cj.jdbc.Driver
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      initial-size: 5
      min-idle: 5
      max-active: 20
      max-wait: 60000
  # redis配置
  redis:
    host: redis.onezol.com
    port: 6379
    password: 123456
    database: 0
    timeout: 10000
    lettuce:
      pool:
        max-active: 8
        max-wait: -1
        max-idle: 8
        min-idle: 0
  # 邮件配置
  mail:
    host: smtp.exmail.qq.com
    port: 465
    username: mail@onezol.com
    password: JYGtUgkah6x89BLc
    default-encoding: UTF-8
    properties:
      mail:
        smtp:
          socketFactory:
            class: javax.net.ssl.SSLSocketFactory
  # 文件存储配置
  file-storage:
    default-platform: aws-s3
    aws-s3:
      - platform: aws-s3
        enable-storage: true
        access-key: AKIDBC*************EAoBJDq
        secret-key: RcXBZT*************q8AvObZ
        region: ap-shanghai
        end-point: https://cos.${spring.file-storage.aws-s3[0].region}.myqcloud.com
        bucket-name: test-1301333510
        domain: https://test-1301333510.cos.ap-shanghai.myqcloud.com/
        base-path: ${spring.application.name}/
  # JWT配置
  jwt:
    secret-key: C61270901C4A455A89A0196CBCED9803
    expiration-time: 3600  # token有效期, 1小时
    renew-threshold: 900   # token续期的阈值, 15分钟

# 加密配置 TODO: 即将废弃
encryption:
  password: FA1F437D388544B8B848F1AAD8BF52F0
  iterations: 1000

# 日志配置
logging:
  level:
    root: info

# 应用配置
vertex:
  log:
    access-log:
      enable: true

mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# SpringDoc(Swagger)配置
springdoc:
  api-docs:
    path: /v3/api-docs
  group-configs:
    - group: 'default'
      paths-to-match: '/**'
      packages-to-scan: com.onezol.vertex
# Knife4j配置
knife4j:
  enable: true
  basic:
    enable: true
    username: vertex
    password: vertex
